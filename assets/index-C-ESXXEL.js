const t="https://servidor.shark-newton.ts.net",r=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`}),c=async(a,o)=>{const n=await fetch(`${t}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,senha:o})});if(!n.ok)throw new Error("Falha no login");const e=await n.json();return{token:e.token,user:{nome:e.nome}}},d=async a=>{const o=new URLSearchParams;a!=null&&a.startDate&&o.append("startDate",a.startDate),a!=null&&a.endDate&&o.append("endDate",a.endDate),a!=null&&a.researcherId&&o.append("researcherId",a.researcherId.toString()),a!=null&&a.gender&&o.append("gender",a.gender),a!=null&&a.ageRange&&(o.append("ageMin",a.ageRange[0].toString()),o.append("ageMax",a.ageRange[1].toString())),a!=null&&a.region&&(o.append("lat",a.region.lat.toString()),o.append("lng",a.region.lng.toString()),o.append("radius",a.region.radius.toString()));const n=await fetch(`${t}/pesquisas?${o.toString()}`,{headers:r()});if(!n.ok)throw new Error("Erro ao buscar pesquisas");return n.json()},g=async()=>{const a=await fetch(`${t}/dashboard/resumo`,{headers:r()});if(!a.ok)throw new Error("Erro ao buscar resumo");return a.json()},p=async()=>{const a=await fetch(`${t}/pesquisadores`,{headers:r()});if(!a.ok)throw new Error("Erro ao buscar pesquisadores");return a.json()},u=async a=>(await d(a)).map(n=>{var e,s;return{id:n.id,lat:n.latitude,lng:n.longitude,info:{pesquisador:((s=(e=n.pesquisador)==null?void 0:e.usuario)==null?void 0:s.nome)||"Desconhecido",dataHora:n.data_hora,idade:n.idade,sexo:n.sexo}}}),h=async a=>({points:(await d(a)).map(n=>[n.latitude,n.longitude,1]),radius:25});export{p as a,d as b,u as c,h as d,g,c as l};
